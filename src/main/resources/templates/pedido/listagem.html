<!DOCTYPE html>
<html lang="pt-BR" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Pedidos</title>
<link rel="stylesheet" th:href="@{/css/estilo.css}">
<style>
.container {
	max-width: 1200px;
	margin: 0 auto;
	padding: 20px;
}

.page-header {
	display: flex;
	flex-direction: column;
	margin-bottom: 20px;
}

.header-row {
	display: flex;
	justify-content: space-between;
	align-items: flex-start;
	margin-bottom: 15px;
}

.page-title {
	text-align: center;
	flex-grow: 1;
	color: #343a40;
	margin: 0;
	padding: 0 15px;
}

.btn-voltar {
	background-color: #6c757d;
	color: white;
	padding: 8px 16px;
	text-decoration: none;
	border-radius: 4px;
	font-weight: 500;
	transition: background-color 0.3s;
	margin-right: 10px;
	width: 120px;
	text-align: center;
}

.btn-voltar:hover {
	background-color: #5a6268;
	color: white;
}

.table-wrapper {
	width: 100%;
	overflow-x: auto; /* ajuste para responsividade */
	border-radius: 8px;
	box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

table {
	width: 100%;
	border-collapse: collapse;
	background-color: white;
}

thead {
	display: table;
	width: 100%;
	table-layout: fixed;
}

tbody {
	display: block;
	max-height: 500px;
	overflow-y: auto;
}

tr {
	display: table;
	width: 100%;
	table-layout: fixed;
}

th, td {
	padding: 12px 15px;
	text-align: left;
	border-bottom: 1px solid #dee2e6;
}

th {
	background-color: #007bff;
	color: white;
	font-weight: 500;
	position: sticky;
	top: 0;
}

tr:hover {
	background-color: #f8f9fa;
}

.btn-acoes {
	display: flex;
	gap: 8px;
}

.btn-pdf {
	background-color: #17a2b8;
	color: white;
	padding: 6px 12px;
	border: none;
	border-radius: 4px;
	cursor: pointer;
	font-size: 0.9em;
	transition: background-color 0.3s;
	text-decoration: none;
	display: inline-block;
}

.btn-pdf:hover {
	background-color: #117a8b;
}

.empty-message {
	text-align: center;
	padding: 20px;
	color: #6c757d;
	font-style: italic;
}

.btn-novo {
	background-color: #28a745;
	color: white;
	padding: 8px 16px;
	text-decoration: none;
	border-radius: 4px;
	font-weight: 500;
	transition: background-color 0.3s;
	width: 120px;
	text-align: center;
}
</style>
</head>
<body>
	<div class="container">

		<div class="page-header">
			<div class="header-row">
				<a href="/" class="btn-voltar">Voltar</a>
				<h1 class="page-title">Pedidos</h1>
			</div>
		</div>

		<div class="table-wrapper">
			<table>
				<thead>
					<tr>
						<th>ID</th>
						<th>Cliente</th>
						<th>Data</th>
						<th>Valor</th>
						<th>Ações</th>
					</tr>
				</thead>
				<tbody>
					<tr th:each="pedido : ${pagina.content}">
						<td th:text="${pedido.id}"></td>
						<td th:text="${pedido.nomeCliente}"></td>
						<td
							th:text="${#temporals.format(pedido.dtHoraInicio, 'dd/MM/yyyy HH:mm')}"></td>
						<td
							th:text="'R$ ' + ${#numbers.formatDecimal(pedido.valorTotal, 1, 2, 'COMMA')}"></td>
						<td><a th:href="@{'/pedido/pdf/' + ${pedido.id}}"
							class="btn-pdf">Baixar PDF</a></td>
					</tr>
					<tr th:if="${#lists.isEmpty(pagina.content)}">
						<td colspan="5" class="empty-message">Nenhum pedido
							cadastrado</td>
					</tr>
				</tbody>
			</table>
		</div>

		<div
			style="margin-top: 20px; display: flex; justify-content: center; gap: 10px;">
			<a th:if="${pagina.hasPrevious()}"
				th:href="@{|/pedido?page=${pagina.number - 1}&size=${pagina.size}|}"
				class="btn-voltar">Anterior</a> <span>Página <span
				th:text="${pagina.number + 1}"></span> de <span
				th:text="${pagina.totalPages}"></span></span> <a
				th:if="${pagina.hasNext()}"
				th:href="@{|/pedido?page=${pagina.number + 1}&size=${pagina.size}|}"
				class="btn-novo">Próxima</a>
		</div>

	</div>
</body>
</html>